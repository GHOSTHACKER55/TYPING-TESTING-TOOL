<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anonymous Shadows Typing Test ‚å®Ô∏èüî•</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Roboto:wght@400;700&display=swap');

/* Background Falling Letters */
body {
    margin: 0;
    padding: 0;
    font-family: 'Roboto', sans-serif;
    background-color: #0f0f0f;
    overflow: hidden;
    color: #fff;
}

#lettersCanvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 0;
}

/* Container for tool */
.container {
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    min-height: 100vh;
    padding-top: 50px;
}

h1 {
    font-family: 'Orbitron', sans-serif;
    color: #00ffea;
    font-size: 2rem;
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}

/* Space for user image */
#userImage {
    width: 50px;
    height: 50px;
    background-color: #222;
    border-radius: 50%;
    display: inline-block;
}

/* Sentence Box */
#sentenceBox {
    font-size: 1.2rem;
    color: #ff4d6d;
    background: rgba(0,0,0,0.6);
    padding: 15px 20px;
    border-radius: 12px;
    max-width: 90%;
    margin-bottom: 15px;
    user-select: none; /* not copyable */
}

/* Input Box */
#typingArea {
    width: 90%;
    max-width: 700px;
    padding: 12px;
    font-size: 1.2rem;
    border-radius: 10px;
    border: none;
    outline: none;
    background-color: #111;
    color: #fff;
}

/* Stats */
.stats {
    margin-top: 15px;
    font-size: 1.2rem;
    color: #ffeb3b;
}

/* Buttons */
.button {
    margin-top: 15px;
    padding: 12px 30px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    color: #fff;
    transition: 0.3s;
}

#whatsappGroup {
    background-color: #25D366;
    margin-right: 10px;
}

#whatsappChannel {
    background-color: #128C7E;
}

/* Responsive */
@media(max-width: 600px){
    h1 { font-size: 1.5rem; }
    #sentenceBox { font-size: 1rem; }
    #typingArea { font-size: 1rem; }
}
</style>
</head>
<body>
<canvas id="lettersCanvas"></canvas>

<div class="container">
    <h1>
        <div id="userImage"></div>
        Anonymous Shadows Typing Test ‚å®Ô∏èüî•
    </h1>

    <div id="sentenceBox"></div>
    <input type="text" id="typingArea" placeholder="Type here..." autocomplete="off">

    <div class="stats" id="accuracy">Accuracy: 0%</div>
    <div class="stats" id="wpm">Speed: 0 WPM</div>

    <div>
        <button class="button" id="whatsappGroup">Join WhatsApp Group ‚úÖ</button>
        <button class="button" id="whatsappChannel">Join WhatsApp Channel ‚úÖ</button>
    </div>
</div>

<script>
// ----- Background Falling Letters -----
const canvas = document.getElementById("lettersCanvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
const fontSize = 20;
const columns = Math.floor(canvas.width / fontSize);
const drops = Array(columns).fill(1);

function draw() {
    ctx.fillStyle = "rgba(0, 0, 0, 0.1)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "#ff0000";
    ctx.font = fontSize + "px monospace";

    for(let i=0; i<drops.length; i++){
        const text = letters.charAt(Math.floor(Math.random()*letters.length));
        ctx.fillText(text, i*fontSize, drops[i]*fontSize);
        if(drops[i]*fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
        drops[i]++;
    }
}

setInterval(draw, 50);
window.addEventListener('resize', ()=>{canvas.width=window.innerWidth; canvas.height=window.innerHeight;});

// ----- Sentences -----
const sentences = [
    "How are you doing today?",
    "The quick brown fox jumps over the lazy dog.",
    "Typing fast is fun and exciting!",
    "Anonymous Shadows is the best typing test.",
    "Practice makes perfect, keep typing!",
    "Never give up on learning new skills.",
    "Consistency is key for improvement.",
    "Challenge yourself every single day.",
    "Focus and concentration improve speed.",
    "Mistakes happen, but accuracy matters."
];

let currentSentence = sentences[Math.floor(Math.random()*sentences.length)];
const sentenceBox = document.getElementById("sentenceBox");
const typingArea = document.getElementById("typingArea");
const accuracyText = document.getElementById("accuracy");
const wpmText = document.getElementById("wpm");

sentenceBox.innerText = currentSentence;

let startTime;
typingArea.addEventListener("focus", ()=>{
    if(!startTime) startTime = new Date();
});

typingArea.addEventListener("input", ()=>{
    const value = typingArea.value;
    const correctChars = value.split("").filter((c,i)=> c === currentSentence[i]).length;
    const accuracy = Math.floor((correctChars / (currentSentence.length || 1))*100);
    accuracyText.innerText = "Accuracy: " + accuracy + "%";

    const minutes = (new Date() - startTime)/60000;
    const wpm = Math.floor((value.split(" ").length)/minutes);
    wpmText.innerText = "Speed: " + (wpm || 0) + " WPM";

    if(value === currentSentence){
        // Move to next sentence automatically
        typingArea.value = "";
        currentSentence = sentences[Math.floor(Math.random()*sentences.length)];
        sentenceBox.innerText = currentSentence;
        startTime = new Date();
    }
});

// ----- WhatsApp buttons -----
document.getElementById("whatsappGroup").onclick = ()=>{
    window.open("https://chat.whatsapp.com/HVM9Spvm7HVGLERj8yo9kS","_blank");
};
document.getElementById("whatsappChannel").onclick = ()=>{
    window.open("https://whatsapp.com/channel/0029Vb6EE3S0LKZMNhNcoW22","_blank");
};

// Make tool unusable until joined (simple requirement)
let joinedGroup = false;
let joinedChannel = false;

document.getElementById("whatsappGroup").addEventListener("click", ()=>{joinedGroup=true; checkJoined();});
document.getElementById("whatsappChannel").addEventListener("click", ()=>{joinedChannel=true; checkJoined();});

function checkJoined(){
    if(joinedGroup && joinedChannel){
        typingArea.disabled = false;
    } else {
        typingArea.disabled = true;
    }
}

// Disable input until buttons clicked
typingArea.disabled = true;
</script>
</body>
</html>